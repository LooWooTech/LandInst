@{
    ViewBag.Title = "注册";
    Layout = "_layout.cshtml";
}
<form id="signup-form" method="post" class="form-horizontal">
    <div class="form-group">
        <label class="col-sm-2 control-label">用户名</label>
        <div class="col-sm-2">
            <input type="text" name="Username" class="form-control input-sm" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">密码</label>
        <div class="col-sm-2">
            <input type="password" name="Password" class="form-control input-sm" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">确认密码</label>
        <div class="col-sm-2">
            <input type="password" name="RePassword" class="form-control input-sm" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">密码提示问题</label>
        <div class="col-sm-3">
            <select name="Question" class="form-control input-sm">
                <option>你喜欢的宠物叫什么名字？</option>
                <option>你的真实姓名叫什么？</option>
                <option>你最好的朋友的名字叫什么？</option>
                <option>你最爱吃的一道菜叫什么？</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">密码提示问题答案</label>
        <div class="col-sm-2">
            <input type="text" name="Answer" class="form-control input-sm" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">性别</label>
        <div class="col-sm-2">
            <div class="radio-inline">
                <label>
                    <input type="radio" name="Gender" value="1" checked="checked" />男</label>
            </div>
            <div class="radio-inline">
                <label>
                    <input type="radio" name="Gender" value="0" />女</label>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">身份证号码</label>
        <div class="col-sm-3">
            <input type="text" name="IDCard" class="form-control input-sm" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Email</label>
        <div class="col-sm-3">
            <input type="text" name="Email" class="form-control input-sm" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">手机号码</label>
        <div class="col-sm-3">
            <input type="text" name="MobilePhone" class="form-control input-sm" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"></label>
        <button type="submit" class="btn btn-primary" id="btn-signup">提交注册</button>
    </div>
</form>
<script>
    //ajax submit
    $(function () {
        $("#signup-form").submit(function () {
            var btn = $("#btn-signup");
            btn.text("正在注册..");
            btn.attr("disabled", "disabled");
            var data = $(this).serialize();
            $.post("/user/signup", data, function (json) {
                //成功隐藏注册表单，显示注册成功部分
                if (json.result) {
                    alert("注册成功")
                }
                else {
                    btn.removeAttr("disabled");
                    btn.text("提交注册");
                }
                //失败则标记input样式
            }, "json");
            return false;
        });
    });
</script>
